Общее:
    Данный тестовый проект был создан в течение периода с 30.10.2023 по 01.11.2023.
    Ссылка на резюме на hh.ru: https://hh.ru/resume/df7bfb71ff0c804c290039ed1f55336f334c6b

Важное:
    Для использования сервиса необходимо создать файл .env непосредственно в директории /src и указать там переменные:
    - SMTP_HOST - хост smtp сервера
    - SMTP_PORT - порт smtp сервера
    - SMTP_LOGIN - логин пользователя
    - SMTP_PASSWORD - пароль пользователя
    - DB_URI - строка для подключения к mongoDB
    
    Данный проект не является прямым выполнением изначального задания: мною в небольшой степени была изменена логика эндпоинтов (часть причин - в разделе критика постановки задания).
    Помимо игнорирования некоторых переменных среды, ниже - описаны изменения относительно начального задания:
    1) Передаваемые и возвращаемые поля target_id и user_id изменены в ендпоинтах /create /list: вместо них - target_mail(получатель) и user_mail(отправитель).
    2) /create: если переданных почт нет в бд - создаются записи в бд.
    

Дополнительная информация:
    Поскольку в рамках сервиса необходимо знать результат выполнения операций, в частности - отправки письма, принято решение не использовать Background tasks или Redis+Celery (а этот подход также потому, что сервер один). В связи с этим в рамках одного запроса не получилось достичь значимой асинхронности.
    Результат отправки письма нужен в том числе потому, что принято решение не захламлять бд в случае если письмо не отправится; также чтобы более корректно уведомлять пользователя успешна ли доставка письма (а не факт отправки).
    Принято решение структурировать функции по классам для более выраженной логической связки, однако не создавать слишком много классов в рамках этого задания (скажем, отдельный - для взаимодействия с бд).
    Все операции выделены в отдельный роутер для болеее легкой возможности расширения функционала.


Критика постановки задания(Необязательно к прочтению):
    user_id и target_id по смыслу перепутаны.
    Незачем делать задание отправки email сообщений таким специфичным. Более прозрачная логика: на "/create" приходит почта получателя (а не id). Отправляется с почты указанной в .env файле. Если в бд нет записи отправителя/получателя и успешно отправлено сообщение - записи создаются.
    Также непонятно почему получатель может отсутствовать и отправитель быть другим нежели под которым залогинилась smtp. Если предполагается выдавать ошибку, то зачем делать необязательным поле/давать возможность отправить с другой почты.
    "Для теста в случае отсутствия пользователя следует создать новый профиль с email, который задан через параметры" - В текстовом файле задания слово "параметры" фигурирует один раз. Совершенно не понятно к чему оно относится. Как и почти все другие слова в предложении: "Для теста" - для теста чего? Итог: совершенно не ясен смысл и контекст предложения.
    В рамках тестового задания неудобно использование технологий которые не поддерживаются в России (MongoDB). При использовании прокси для работы с MongoDB возникают проблемы с почтовым сервисом google, что делает полноценное тестирование невозможным.


